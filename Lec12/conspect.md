## Лекция 12. Коллекции. Словари

**Словарь** (dict) - неупорядоченный уникальный набор (множество) пар вида ключ:значение.

### 1. Инициализация словаря
* Пустой
```
# Инициализация словаря
a_dict = dict()
b_dict = {}

print("Len:", len(a_dict))
print("Type:", type(b_dict))
```

* Со значениями
```
# Инициализация словаря с элементами
transiton = {10: "ten", 2:"two", 5:"five"}
print("Len:", len(transiton))
print("Type:", type(transiton))
print('Value:', transiton)
```

* Добавление в словарь
```
# Добавление новых элементов (новых пар)
transition = {10: "ten"}
transition[12] = "twelve" # Добавление как ключа, так и значения!
print(transition)

transition[10] = "TEN" # Перезапись значения по существующему ключу 10
print(transition)
print(transition[10]) # Чтение из словаря по ключу 10
```

* В словаре не может быть двух пар с одинаковым ключом (т.к. по определению - словарь - множество пар ключ:значения => все ключи уникализируются)

* Требования к ключам (к значениям никаких требований нет)
```
# Какие могут быть ключи?
# Требование к ключам - неизменяемость!
words = {"one" : "один" , "two" : "два", "three" : "три"}
print(words["one"])
words["four"] = "четыре"
print("Len:", len(words))
print(words)

precisions = {0.5 : "плохая точность" , 0.8 : "достаточная точность" , 0.99: "высокая точность"}
print(precisions)

sectors = {(0,0) : "начало координат", (10, 10) : "верхняя граница сетки координат"}
print(sectors)
print(sectors[(0,0)])

# Ключи можно смешивать (но не надо так делать)
bag = {10 : "a", 10.5:"b", True: "c", None : "d", "sting" : "e", (10, 10) : "f"}
print(bag)
```

### 2. Обработка словарей
```
# Обработка словарей
words = {"one" : "один" , "two" : "два", "three" : "три", "four" : "четыре"}

# Количество пар (количество элементов) == количество ключей
print("Len:", len(words))

# Проверка вхождения
msg = "one"
if msg in words.keys(): # Есть ли msg в ключах словаря?
    print(f"{msg} in words")
    print(words.keys())

val = "один"
if val in words.values():
    print(f"{val} in words.values")
    print(words.values())

# Итерирование по ключам
for key in words.keys():
    print("Key:", key, "Value:", words[key])

# Итерирование по значениям
for val in words.values():
    print("Value:", val)


# Итерирование по парам
for key, value in words.items():
    print("Key:", key, "Value:", value)
```

* По умолчанию все операции проводятся над ключами (т.е. проверка вхождения `in`, итерирование через `for` и т.д.)
* Рекомендуется явно использовать методы обработки словарей, такие как:
    * `dict.keys()` - возвращает набор ключей
    * `dict.values()` - возвращает набор значений
    * `dict.items()` - возвращает набор пар (каждая пара - кортеж (key, val)).

### 3. Методы словарей
```
# Методы словарей
words = {"one" : "один" , "two" : "два", "three" : "три", "four" : "четыре"}

my_personal_key = "one"

if my_personal_key in words:
    print(f"Key: {my_personal_key} Val:{words[my_personal_key]}")
else:
    print(None)


# Метод .get()
value = words.get(my_personal_key)
print(".get():", value)

# Метод .get() с значением по умолчанию
birthdays = {"jan" : 0, "feb" : 5, "mar" : 3}
month = "dec"
print(birthdays.get(month, 0))

# Удаление пар из словаря
words = {"one" : "один" , "two" : "два", "three" : "три", "four" : "четыре"}
del words["two"]
print(words)

val = words.pop("one")
print(words)
print("Deleted one:", val)
```

### 4. Смешивание словарей с другими коллекциями
```
# На вход программе поступает n - информация про друзей
# Про каждого друга известно "Имя Месяц" (где имя - имя друга, месяц - это месяц когда он родился)
# Задача - сохранить друзей удобным для обработки образом

# С прединициализированным словарем
birthdays = {
    "янв" : [],
    "фев" : [],
    "мар" : [],
    "апр" : [],
    "май" : [],
    "июн" : [],
    "июл" : [],
    "авг" : [],
    "сен" : [],
    "окт" : [],
    "ноя" : [],
    "дек" : [],
}

n = int(input().strip())
for _ in range(n):
    friend_info = input().strip() # "Петя фев"
    name, month = friend_info.split(sep=" ")
    birthdays[month].append(name)

for month, names in birthdays.items():
    names_str = ', '.join(names)
    print(f"Month:{month} and birthdays at: {names_str}")
```


### 5. Резюме по коллекциям
* `set()` - (уникализирующая неупорядоченная, любые объекты). Мешок, который гарантирует, что в нем будут встречаться элементы не более чем 1 раз. Позволяет выполнять операции над аналогичными мешками на языке теории множеств.

* `str()` - используем строки когда обрабатываем текст (строка - это всегда `read-only character array`)

* `list()` - используется в большинстве случаев, когда надо применить операцию ко всем элементам коллекции, при этом не нарушая их порядок следования.

* `tuple()` - используется для передачи группы элементов между блоками кода (гарантирует неизменяемость хранимых ЗНАЧЕНИЙ!!)

* `dict()` - используем когда целочисленных ключей недостаточно (позволяет строить гибкие отображения из неизменяемого элемента (ключ) в любой объект (значение))